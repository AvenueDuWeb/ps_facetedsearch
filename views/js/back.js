!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}({2:function(e,t){$(document).ready(function(){if($(".ajaxcall").click(function(){if(null==this.legend&&(this.legend=$(this).html()),null==this.running&&(this.running=!1),1==this.running)return!1;$(".ajax-message").hide(),this.running=!0,(void 0===this.restartAllowed||this.restartAllowed)&&($(this).html(this.legend+translations.in_progress),$("#indexing-warning").show()),this.restartAllowed=!1;const e=$(this).attr("rel");return $.ajax({url:this.href+"&ajax=1",context:this,dataType:"json",cache:"false",success:function(t){this.running=!1,this.restartAllowed=!0,$("#indexing-warning").hide(),$(this).html(this.legend),$("#ajax-message-ok span").html("price"===e?translations.url_indexation_finished:translations.attribute_indexation_finished),$("#ajax-message-ok").show()},error:function(t){this.restartAllowed=!0,$("#indexing-warning").hide(),$("#ajax-message-ko span").html("price"===e?translations.url_indexation_failed:translations.attribute_indexation_failed),$("#ajax-message-ko").show(),$(this).html(this.legend),this.running=!1}}),!1}),$(".ajaxcall-recurcive").each(function(e,t){$(t).click(function(){return null==this.cursor&&(this.cursor=0),null==this.legend&&(this.legend=$(this).html()),null==this.running&&(this.running=!1),1!=this.running&&($(".ajax-message").hide(),this.running=!0,(void 0===this.restartAllowed||this.restartAllowed)&&($(this).html(this.legend+translations.in_progress),$("#indexing-warning").show()),this.restartAllowed=!1,$.ajax({url:this.href+"&ajax=1&cursor="+this.cursor,context:this,dataType:"json",cache:"false",success:function(e){if(this.running=!1,e.result)return this.cursor=0,$("#indexing-warning").hide(),$(this).html(this.legend),$("#ajax-message-ok span").html(translations.price_indexation_finished),void $("#ajax-message-ok").show();this.cursor=parseInt(e.cursor),$(this).html(this.legend+translations.price_indexation_in_progress.replace("%s",e.count)),$(this).click()},error:function(e){this.restartAllowed=!0,$("#indexing-warning").hide(),$("#ajax-message-ko span").html(translations.price_indexation_failed),$("#ajax-message-ko").show(),$(this).html(this.legend),this.cursor=0,this.running=!1}}),!1)})}),"undefined"!=typeof PS_LAYERED_INDEXED&&PS_LAYERED_INDEXED&&($("#url-indexe").click(),$("#full-index").click()),$(".sortable").sortable({forcePlaceholderSize:!0}),$(".filter_list_item input[type=checkbox]").click(function(){const e=parseInt($("#selected_filters").html(),10);$("#selected_filters").html($(this).prop("checked")?e+1:e-1)}),"undefined"!=typeof filters){filters=JSON.parse(filters);let e,t=null;for(filter in filters)(e=$("#"+filter)).prop("checked",!0),$("#selected_filters").html(parseInt($("#selected_filters").html())+1),$('select[name="'+filter+'_filter_type"]').val(filters[filter].filter_type),$('select[name="'+filter+'_filter_show_limit"]').val(filters[filter].filter_show_limit),null===t?(t=$("#"+filter).closest("ul"),e.closest("li").detach().prependTo(t)):e.closest("li").detach().insertAfter(t),t=e.closest("li")}})}});
//# sourceMappingURL=back.js.map